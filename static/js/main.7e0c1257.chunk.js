(this.webpackJsonpshop2=this.webpackJsonpshop2||[]).push([[0],{45:function(e,t,n){"use strict";n.d(t,"b",(function(){return w}));var c=n(10),r=n(17),a=n(0),i=n.n(a),o=n(91),s=n(92),l=n(89),d=n(90),j=(n.p,n(58),[{id:0,title:"White and Black",content:"Born in France",price:12e4},{id:1,title:"Red Knit",content:"Born in Seoul",price:11e4},{id:2,title:"Grey Yordan",content:"Born in the States",price:13e4}]),u=n(47),h=n.n(u),b=n(88),O=n(24),f=(n(52),n(2));function p(e){var t=localStorage.getItem("cart");return(t=null==t?[]:JSON.parse(t)).map((function(n){var c=t.findIndex((function(e){return e.name===t.name}));return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:n.name}),Object(f.jsx)("td",{children:n.quan}),Object(f.jsx)("td",{children:n.price}),Object(f.jsxs)("td",{children:[Object(f.jsx)("button",{onClick:function(){e.setRender(!e.render),n.quan++,localStorage.setItem("cart",JSON.stringify(t))},children:"+"}),Object(f.jsx)("button",{onClick:function(){e.setRender(!e.render),n.quan>1&&n.quan--,localStorage.setItem("cart",JSON.stringify(t))},children:"-"}),Object(f.jsx)("button",{onClick:function(){e.setRender(!e.render),t.splice(c,1),localStorage.setItem("cart",JSON.stringify(t))},children:"\uc0ad\uc81c"})]})]})}))}function v(e){var t=localStorage.getItem("cart");t=JSON.parse(t);var n=0;return t.map((function(e){n+=e.price*e.quan})),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:["\ucd1d \uc0c1\ud488\uac00\uaca9 : ",n]}),Object(f.jsx)("div",{children:"\ucd1d \ubc30\uc1a1\ube44 : 0"}),Object(f.jsxs)("div",{children:["\ucd1d \uacb0\uc81c \uc608\uc0c1 \uae08\uc561 : ",n-20*n/100]})]})}var g=Object(O.b)((function(e){return{state:e.reducer,alert:e.reducer2}}))((function(e){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),c=n[0],i=n[1];return Object(f.jsxs)("div",{children:[Object(f.jsxs)(b.a,{responsive:!0,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"\uc0c1\ud488\uba85"}),Object(f.jsx)("th",{children:"\uc218\ub7c9"}),Object(f.jsx)("th",{children:"\uac00\uaca9"}),Object(f.jsx)("th",{children:"\ubcc0\uacbd"})]})}),Object(f.jsx)("tbody",{children:Object(f.jsx)(p,{render:c,setRender:i})})]}),Object(f.jsx)(v,{state:e.state}),!0===e.alert?Object(f.jsxs)("div",{className:"my-alert",children:[Object(f.jsx)("p",{children:"\uc9c0\uae08 \uad6c\ub9e4\ud558\uc2dc\uba74 \uc2e0\uaddc\ud560\uc778 20%"}),Object(f.jsx)("button",{className:"cart-alert-close",onClick:function(){e.dispatch({type:"alertClosed"})},children:"X"})]}):null]})})),x=n(19),m=n(6),S=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,95))})),w=i.a.createContext();function k(e){var t=Object(a.useContext)(w),n=Object(m.f)();return Object(f.jsxs)("div",{className:"col-md-4",onClick:function(){n.push("/detail/"+e.shoes.id)},children:[Object(f.jsx)("img",{src:"https://codingapple1.github.io/shop/shoes"+(e.i+1)+".jpg",alt:""}),Object(f.jsx)("h2",{children:e.shoes.title}),Object(f.jsxs)("p",{children:[e.shoes.content," & ",e.shoes.price]}),Object(f.jsx)("p",{children:t[e.shoes.id]})]})}function y(){return Object(f.jsx)("div",{children:"\ub85c\ub529\uc911"})}t.a=function(){var e=Object(a.useState)(j),t=Object(r.a)(e,2),n=t[0],i=t[1],u=Object(a.useState)([2,11,12,5,3,7]),b=Object(r.a)(u,2),O=b[0],p=b[1],v=Object(a.useState)(!1),N=Object(r.a)(v,2),I=N[0],C=N[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("watched");e=null===e?[]:JSON.parse(e),e=new Set(e),e=Object(c.a)(e),localStorage.setItem("watched",JSON.stringify(e))}),[]),Object(a.useEffect)((function(){var e=localStorage.getItem("cart");e=null===e?[]:JSON.parse(e),localStorage.setItem("cart",JSON.stringify(e))}),[]),Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("product");null===e?(e=[],e=Object(c.a)(n)):e=JSON.parse(e);localStorage.setItem("product",JSON.stringify(e))}()}),[]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)(o.a,{bg:"light",expand:"lg",children:[Object(f.jsx)(o.a.Brand,{href:"/",children:"ShoesShop"}),Object(f.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(f.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(f.jsxs)(s.a,{className:"ml-auto",children:[Object(f.jsx)(s.a.Link,{as:x.b,to:"/",children:"Home"}),Object(f.jsx)(s.a.Link,{as:x.b,to:"/cart",children:"Cart"})]})})]}),Object(f.jsxs)(m.c,{children:[Object(f.jsxs)(m.a,{exact:!0,path:"/",children:[Object(f.jsxs)(l.a,{className:"background",children:[Object(f.jsx)("h2",{children:"20% Season OFF"}),Object(f.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis laboriosam deserunt ratione fugit eaque, neque tempora repudiandae dolor nam voluptatibus delectus inventore eos fuga, eum reprehenderit officia sapiente beatae voluptatem!"}),Object(f.jsx)("p",{children:Object(f.jsx)(d.a,{variant:"primary",children:"Learn more"})})]}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(w.Provider,{value:O,children:Object(f.jsx)("div",{className:"row",children:n.map((function(e,t){return Object(f.jsx)(k,{shoes:n[t],i:t},t)}))})}),!0===I?Object(f.jsx)(y,{}):null,Object(f.jsx)("button",{className:"btn btn-primary",onClick:function(){C(!0),h.a.get("https://codingapple1.github.io/shop/data2.json").then((function(e){C(!1),i([].concat(Object(c.a)(n),Object(c.a)(e.data))),function(e){var t,n=localStorage.getItem("product");(t=n=null===n?[]:JSON.parse(n)).push.apply(t,Object(c.a)(e)),n=n.filter((function(e,t,n){return t===n.findIndex((function(t){return t.id===e.id}))})),localStorage.setItem("product",JSON.stringify(n))}(e.data)})).catch((function(){C(!1),console.log("\uc2e4\ud328")}))},children:"\ub354\ubcf4\uae30"})]})]}),Object(f.jsx)(m.a,{path:"/detail/:id",children:Object(f.jsx)(a.Suspense,{fallback:Object(f.jsx)("div",{children:"\ub85c\ub529\uc911\uc774\uc5d0\uc694"}),children:Object(f.jsx)(S,{shoes:n,setShoes:i,stock:O,setStock:p})})}),Object(f.jsx)(m.a,{path:"/cart",children:Object(f.jsx)(g,{})}),Object(f.jsx)(m.a,{path:"/:id",children:Object(f.jsx)("div",{children:"\uc798\ubabb\ub41c \uc8fc\uc18c\uc785\ub2c8\ub2e4"})})]})]})}},52:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(13),i=n.n(a),o=(n(57),n(45)),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var d=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,94)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},j=n(19),u=n(24),h=n(22),b=n(10);var O=[];var f=n(2),p=Object(h.c)(Object(h.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;if("product_add"===t.type){var n=e.findIndex((function(e){return e.id===t.data.id}));if(n>=0){var c=Object(b.a)(e);return c[n].quan+=t.data.quan,c}var r=Object(b.a)(e);return r.push(t.data),r}if("quanUp"===t.type){var a=Object(b.a)(e);return a[t.data].quan++,a}if("quanDown"===t.type){var i=Object(b.a)(e);return i[t.data].quan<=1||i[t.data].quan--,i}if("delete"===t.type){var o=e.findIndex((function(e){return e.name===t.data})),s=Object(b.a)(e);return s.splice(o,1),s}return e},reducer2:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"alertClosed"===t.type?e=!1:e}}));i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(j.a,{children:Object(f.jsx)(u.a,{store:p,children:Object(f.jsx)(o.a,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):l(t,e)}))}}(),d()}},[[86,1,2]]]);
//# sourceMappingURL=main.7e0c1257.chunk.js.map